<!DOCTYPE html>
<html lang="en">
<head>
  <title>Control</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=0.8">
  <link rel="stylesheet" href="{{ url_for('static', filename='bootstrap.min.css') }}">
  <script src="{{ url_for('static', filename='jquery.min.js') }}"></script>
  <script src="{{ url_for('static', filename='bootstrap.min.js') }}"></script>
  <script src="{{ url_for('static', filename='raphael-min.js') }}"></script>
  <script src="{{ url_for('static', filename='jquery-1.8.2.min.js') }}"></script>
  <script src="{{ url_for('static', filename='socket.io-1.2.0.js') }}"></script>
</head>

<body>
	<div class="jumbotron text-center">
  		<h1>Control</h1>
	</div>

	<div id="control" class="col-sm-4">
		<div class="row">
			<div class="col-sm-4-2">
			<button type="button" id="on" value="on" onclick="onrelay()">on</button>
			<button type="button" id="off" value="off" onclick="offrelay()">off</button>
			</div>
		</div>
	</div>

	<div id="showdata" class="col-sm-4">
		<h2>Status</h2>
			<h4>Temperature
					<a id="temp"></a>
			<h4>Humidity
					<a id="humi"></a>
	</div>
</body>

<script type="text/javascript">
	var socket = io();
	function onrelay(onrelay)
	{
		socket.emit('c2s_com',"onrelay");
		console.log("onrelay");
	}
	function offrelay(offrelay)
	{
		socket.emit('c2s_com',"offrelay");
		console.log("offrelay");
	}
	socket.on('s2c_temp', function(showtemp)
    {
    document.getElementById("temp").innerHTML=showtemp;
    });
    socket.on('s2c_humi', function(showhumi)
    {
    document.getElementById("humi").innerHTML=showhumi;
    });
</script>
